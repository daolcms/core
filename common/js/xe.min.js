/**
 * @file   common/js/xe.min.js
 * @author NHN (developers@xpressengine.com)
 * @Adaptor DAOL Project (developer@daolcms.org)
 * @brief  XE Common JavaScript
 **/
function xSleep(e){e/=1e3;for(var t=new Date,n=new Date;n.getTime()-t.getTime()<e;)n=new Date}function isDef(){for(var e=0;e<arguments.length;++e)if("undefined"==typeof arguments[e])return!1;return!0}function winopen(e,t,n){"undefined"!=typeof xeVid&&e.indexOf(request_uri)>-1&&!e.getQuery("vid")&&(e=e.setQuery("vid",xeVid));try{"_blank"!=t&&winopen_list[t]&&(winopen_list[t].close(),winopen_list[t]=null)}catch(r){}"undefined"==typeof t&&(t="_blank"),"undefined"==typeof n&&(n="");var o=window.open(e,t,n);o.focus(),"_blank"!=t&&(winopen_list[t]=o)}function popopen(e,t){"undefined"==typeof t&&(t="_blank"),"undefined"!=typeof xeVid&&e.indexOf(request_uri)>-1&&!e.getQuery("vid")&&(e=e.setQuery("vid",xeVid)),winopen(e,t,"width=650,height=500,scrollbars=yes,resizable=yes,toolbars=no")}function sendMailTo(e){location.href="mailto:"+e}function move_url(e,t){return e?("undefined"==typeof t&&(t="N"),t="N"==t?!1:!0,/^\./.test(e)&&(e=request_uri+e),t?winopen(e):location.href=e,!1):!1}function displayMultimedia(e,t,n,r){var o=_displayMultimedia(e,t,n,r);o&&document.writeln(o)}function _displayMultimedia(e,t,n,r){0==e.indexOf("files")&&(e=request_uri+e);var o={wmode:"transparent",allowScriptAccess:"sameDomain",quality:"high",flashvars:"",autostart:!1},i=jQuery.extend(o,r||{}),a=i.autostart&&"false"!=i.autostart?"true":"false";delete i.autostart;var s="",u="",c="";if(/\.(gif|jpg|jpeg|bmp|png)$/i.test(e))c='<img src="'+e+'" width="'+t+'" height="'+n+'" />';else if(/\.flv$/i.test(e)||/\.mov$/i.test(e)||/\.moov$/i.test(e)||/\.m4v$/i.test(e))c='<embed src="'+request_uri+'common/img/flvplayer.swf" allowfullscreen="true" allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'" flashvars="&file='+e+"&width="+t+"&height="+n+"&autostart="+a+'" wmode="'+i.wmode+'" />';else if(/\.swf/i.test(e)){s="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",u="undefined"!=typeof enforce_ssl&&enforce_ssl?"https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0":"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0",c='<object classid="'+s+'" codebase="'+u+'" width="'+t+'" height="'+n+'" flashvars="'+i.flashvars+'">',c+='<param name="movie" value="'+e+'" />';for(var l in i)"undefined"!=i[l]&&""!=i[l]&&(c+='<param name="'+l+'" value="'+i[l]+'" />');c+='<embed src="'+e+'" allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'" flashvars="'+i.flashvars+'" wmode="'+i.wmode+'"></embed></object>'}else(jQuery.browser.mozilla||jQuery.browser.opera)&&(a=i.autostart&&"false"!=i.autostart?"1":"0"),c='<embed src="'+e+'" allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'"',"transparent"==i.wmode&&(c+=' windowlessvideo="1"'),c+="></embed>";return c}function zbxe_folder_open(e){jQuery("#folder_open_"+e).hide(),jQuery("#folder_close_"+e).show(),jQuery("#folder_"+e).show()}function zbxe_folder_close(e){jQuery("#folder_open_"+e).show(),jQuery("#folder_close_"+e).hide(),jQuery("#folder_"+e).hide()}function setFixedPopupSize(){var e,t,n,r,o,i=jQuery,a=i(window),s=i("body>.popup");o=s.css({overflow:"scroll"}).offset(),e=s.width(10).height(1e4).get(0).scrollWidth+2*o.left,t=s.height(10).width(1e4).get(0).scrollHeight+2*o.top,600>e&&(e=600+2*o.left),n=a.width(),r=a.height(),e!=n&&window.resizeBy(e-n,0),t!=r&&window.resizeBy(0,t-r),s.width(e-2*o.left).css({overflow:"",height:""})}function doCallModuleAction(e,t,n){var r={target_srl:n,cur_mid:current_mid,mid:current_mid};exec_xml(e,t,r,completeCallModuleAction)}function completeCallModuleAction(e){"success"!=e.message&&alert(e.message),location.reload()}function completeMessage(e){alert(e.message),location.reload()}function doChangeLangType(e){if("string"==typeof e)setLangType(e);else{var t=e.options[e.selectedIndex].value;setLangType(t)}location.href=location.href.setQuery("l","")}function setLangType(e){var t=new Date;t.setTime(t.getTime()+6048e8),setCookie("lang_type",e,t,"/")}function doDocumentPreview(e){for(var t=e;"FORM"!=t.nodeName;)t=t.parentNode;if("FORM"==t.nodeName){var n=t.getAttribute("editor_sequence"),r=editorGetContent(n),o=(window.open("","previewDocument","toolbars=no,width=700px;height=800px,scrollbars=yes,resizable=yes"),jQuery("#previewDocument"));o.length?o=o[0]:(jQuery('<form id="previewDocument" target="previewDocument" method="post" action="'+request_uri+'"><input type="hidden" name="module" value="document" /><input type="hidden" name="act" value="dispDocumentPreview" /><input type="hidden" name="content" /></form>').appendTo(document.body),o=jQuery("#previewDocument")[0]),o&&(o.content.value=r,o.submit())}}function doDocumentSave(e){var t=e.form.getAttribute("editor_sequence"),n=editorRelKeys[t].content.value;if("undefined"!=typeof t&&t&&"undefined"!=typeof editorRelKeys&&"function"==typeof editorGetContent){var r=editorGetContent(t);editorRelKeys[t].content.value=r}var o={},i=["error","message","document_srl"],a=(e.form.elements,jQuery(e.form).serializeArray());return jQuery.each(a,function(e,t){var n=jQuery.trim(t.value);return n?(/\[\]$/.test(t.name)&&(t.name=t.name.replace(/\[\]$/,"")),void(o[t.name]?o[t.name]+="|@|"+n:o[t.name]=t.value)):!0}),exec_xml("document","procDocumentTempSave",o,completeDocumentSave,i,o,e.form),editorRelKeys[t].content.value=n,!1}function completeDocumentSave(e){jQuery("input[name=document_srl]").eq(0).val(e.document_srl),alert(e.message)}function doDocumentLoad(e){objForSavedDoc=e.form,popopen(request_uri.setQuery("module","document").setQuery("act","dispTempSavedList"))}function doDocumentSelect(e,t){if(!opener||!opener.objForSavedDoc)return void window.close();switch(t==underfined&&(t="document"),t){case"page":var n=opener.current_url;n=n.setQuery("document_srl",e),n="dispPageAdminMobileContentModify"===n.getQuery("act")?n.setQuery("act","dispPageAdminMobileContentModify"):n.setQuery("act","dispPageAdminContentModify"),opener.location.href=n;break;default:opener.location.href=opener.current_url.setQuery("document_srl",e).setQuery("act","dispBoardWrite")}window.close()}function viewSkinInfo(e,t){popopen("./?module=module&act=dispModuleSkinInfo&selected_module="+e+"&skin="+t,"SkinInfo")}function doAddDocumentCart(e){var t=e.value;addedDocument[addedDocument.length]=t,setTimeout(function(){callAddDocumentCart(addedDocument.length)},100)}function callAddDocumentCart(e){if(!(addedDocument.length<1||e!=addedDocument.length)){var t=new Array;t.srls=addedDocument.join(","),exec_xml("document","procDocumentAddCart",t,null),addedDocument=new Array}}function transRGB2Hex(e){if(!e)return e;if(e.indexOf("#")>-1)return e.replace(/^#/,"");if(e.toLowerCase().indexOf("rgb")<0)return e;e=e.replace(/^rgb\(/i,"").replace(/\)$/,""),value_list=e.split(",");for(var t="",n=0;n<value_list.length;n++){var r=parseInt(value_list[n],10).toString(16);1==r.length&&(r="0"+r),t+=r}return t}function toggleSecuritySignIn(){var e=location.href;location.href=/https:\/\//i.test(e)?e.replace(/^https/i,"http"):e.replace(/^http/i,"https")}function reloadDocument(){location.reload()}function resizeImageContents(){}function activateOptionDisabled(){}function toggleDisplay(e){jQuery("#"+e).toggle()}function checkboxSelectAll(e,t,n){var r=t,o={};"undefined"!=typeof e&&(o.wrap=e),"undefined"!=typeof n&&(o.checked=n),XE.checkboxToggleAll(r,o)}function clickCheckBoxAll(e,t){var n=t,r={doClick:!0};"undefined"!=typeof e&&(r.wrap=e),XE.checkboxToggleAll(n,r)}function svc_folder_open(e){jQuery("#_folder_open_"+e).hide(),jQuery("#_folder_close_"+e).show(),jQuery("#_folder_"+e).show()}function svc_folder_close(e){jQuery("#_folder_open_"+e).show(),jQuery("#_folder_close_"+e).hide(),jQuery("#_folder_"+e).hide()}function open_calendar(e,t,n){"undefined"==typeof t&&(t="");var r="./common/tpl/calendar.php?";e&&(r+="fo_id="+e),t&&(r+="&day_str="+t),n&&(r+="&callback_func="+n),popopen(r,"Calendar")}function createPopupMenu(){}function chkPopupMenu(){}function displayPopupMenu(e,t,n){XE.displayPopupMenu(e,t,n)}function GetObjLeft(e){return jQuery(e).offset().left}function GetObjTop(e){return jQuery(e).offset().top}function replaceOuterHTML(e,t){jQuery(e).replaceWith(t)}function getOuterHTML(e){return jQuery(e).html().trim()}function setCookie(e,t,n,r){var o=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+"; path="+(r?r:"/");document.cookie=o}function getCookie(e){var t=document.cookie.match(new RegExp(e+"=(.*?)(?:;|$)"));return t?unescape(t[1]):void 0}function is_def(e){return"undefined"!=typeof e}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function get_by_id(e){return document.getElementById(e)}function xml2json(e,t,n){var r={toObj:function(e){var t={};if(1==e.nodeType){if(n&&e.attributes.length)for(var o=0;o<e.attributes.length;o++)t["@"+e.attributes[o].nodeName]=(e.attributes[o].nodeValue||"").toString();if(e.firstChild){for(var i=0,a=0,s=!1,u=e.firstChild;u;u=u.nextSibling)1==u.nodeType?s=!0:3==u.nodeType&&u.nodeValue.match(/[^ \f\n\r\t\v]/)?i++:4==u.nodeType&&a++;if(s)if(2>i&&2>a){r.removeWhite(e);for(var u=e.firstChild;u;u=u.nextSibling)3==u.nodeType?t=r.escape(u.nodeValue):4==u.nodeType?t=r.escape(u.nodeValue):t[u.nodeName]?t[u.nodeName]instanceof Array?t[u.nodeName][t[u.nodeName].length]=r.toObj(u):t[u.nodeName]=[t[u.nodeName],r.toObj(u)]:t[u.nodeName]=r.toObj(u)}else e.attributes.length?t["#text"]=r.escape(r.innerXml(e)):t=r.escape(r.innerXml(e));else if(i)e.attributes.length?t["#text"]=r.escape(r.innerXml(e)):t=r.escape(r.innerXml(e));else if(a)if(a>1)t=r.escape(r.innerXml(e));else for(var u=e.firstChild;u;u=u.nextSibling)t=r.escape(u.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType?t=r.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,n){var o=t?'"'+t+'"':"";if(e instanceof Array){for(var i=0,a=e.length;a>i;i++)e[i]=r.toJson(e[i],"",n+"	");o+=(t?":[":"[")+(e.length>1?"\n"+n+"	"+e.join(",\n"+n+"	")+"\n"+n:e.join(""))+"]"}else if(null==e)o+=(t&&":")+"null";else if("object"==typeof e){var s=[];for(var u in e)s[s.length]=r.toJson(e[u],u,n+"	");o+=(t?":{":"{")+(s.length>1?"\n"+n+"	"+s.join(",\n"+n+"	")+"\n"+n:s.join(""))+"}"}else o+="string"==typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return o},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var n=function(e){var t="";if(1==e.nodeType){t+="<"+e.nodeName;for(var r=0;r<e.attributes.length;r++)t+=" "+e.attributes[r].nodeName+'="'+(e.attributes[r].nodeValue||"").toString()+'"';if(e.firstChild){t+=">";for(var o=e.firstChild;o;o=o.nextSibling)t+=n(o);t+="</"+e.nodeName+">"}else t+="/>"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+="<![CDATA["+e.nodeValue+"]]>");return t},r=e.firstChild;r;r=r.nextSibling)t+=n(r);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var n=t.nextSibling;e.removeChild(t),t=n}else 1==t.nodeType?(r.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var o,i=r.toObj(r.removeWhite(e));return o=r.toJson(i,e.nodeName,""),"{"+(t?o.replace(/\t/g,t):o.replace(/\t|\n/g,""))+"}"}function filterAlertMessage(e){var t=(e.error,e.message),n=e.act,r=e.redirect_url,o=location.href;"undefined"!=typeof t&&t&&"success"!=t&&alert(t),"undefined"!=typeof n&&n?o=current_url.setQuery("act",n):"undefined"!=typeof r&&r&&(o=r),o==location.href&&(o=o.replace(/#(.*)$/,"")),location.href=o}function procFilter(e,t){return t(e),!1}function legacy_filter(e,t,n,r,o,i,a,s){var u=xe.getApp("Validator")[0],c=jQuery,l=[];return u?(t.elements._filter||c(t).prepend('<input type="hidden" name="_filter" />'),t.elements._filter.value=e,l[0]=e,l[1]=function(e){var u={},l=(e.elements,c(e).serializeArray());return c.each(l,function(e,t){var n=c.trim(t.value),r=t.name;return n&&r?(s[r]&&(r=s[r]),/\[\]$/.test(r)&&(r=r.replace(/\[\]$/,"")),void(u[r]?u[r]+="|@|"+n:u[r]=t.value)):!0}),a&&!confirm(a)?!1:void exec_xml(n,r,u,o,i,u,t)},u.cast("ADD_CALLBACK",l),u.cast("VALIDATE",[t,e]),!1):!1}!function(e){function t(){var t=function(){var t=this;e.isArray(this._plugins)&&(this._plugins=[]),this._messages?this._messages={}:this._binded_fn={},e.each(this,function(n,r){if(!e.isFunction(r))return!0;if(!/^API_([A-Z0-9_]+)$/.test(n))return!0;var o=RegExp.$1,i=function(e,r){return t[n](e,r)};t._messages?t._messages[o]=[i]:t._binded_fn[o]=i}),e.isFunction(this.init)&&this.init.apply(this,arguments)};return t}var n,r,o,i=[];n={getName:function(){return"Core"},createApp:function(n,o){var i=t();return e.extend(i.prototype,r,o),i.prototype.getName=function(){return n},i},createPlugin:function(n,r){var i=t();return e.extend(i.prototype,o,r),i.prototype.getName=function(){return n},i},getApps:function(){return e.makeArray(i)},getApp:function(e){return e=(e||"").toLowerCase(),"undefined"!=typeof i[e]?i[e]:null},registerApp:function(t){var n=t.getName().toLowerCase();i.push(t),e.isArray(i[n])||(i[n]=[]),i[n].push(t),t.parent=this,e.isFunction(t.activate)&&t.activate()},unregisterApp:function(t){var n=t.getName().toLowerCase(),r=e.inArray(t,i);r>=0&&(i=i.splice(r,1)),e.isArray(i[n])&&(r=e.inArray(t,i[n]),r>=0&&(i[n]=i[n].splice(r,1))),e.isFunction(t.deactivate)&&t.deactivate()},broadcast:function(e,t){this._broadcast(this,e,t)},_broadcast:function(e,t,n){for(var r=0;r<i.length;r++)i[r]._cast(e,t,n);this._cast(e,t,n)}},r={_plugins:[],_messages:{},getPlugin:function(t){return t=t.toLowerCase(),e.isArray(this._plugins[t])?this._plugins[t]:[]},registerPlugin:function(t){var n=this,r=t.getName().toLowerCase();return e.inArray(t,this._plugins)>=0?!1:(this._plugins.push(t),e.isArray(this._plugins[r])||(this._plugins[r]=[]),this._plugins[r].push(t),e.each(t._binded_fn,function(e,t){n.registerHandler(e,t)}),t.oApp=this,e.isFunction(t.activate)&&t.activate(),!0)},registerHandler:function(t,n){var r=this._messages;t=t.toUpperCase(),e.isArray(r[t])||(r[t]=[]),r[t].push(n)},cast:function(e,t){return this._cast(this,e,t||[])},broadcast:function(e,t,n){this.parent&&this.parent._broadcast&&this.parent._broadcast(e,t,n)},_cast:function(t,n,r){var o,i=this._messages;if(n=n.toUpperCase(),i["BEFORE_"+n]||this["API_BEFORE_"+n]){var a=this._cast(t,"BEFORE_"+n,r);if(!a)return}var s=[];if(e.isArray(i[n]))for(o=0;o<i[n].length;o++)s.push(i[n][o](t,r));return s.length<2&&(s=s[0]),(i["AFTER_"+n]||this["API_AFTER_"+n])&&this._cast(t,"AFTER_"+n,r),/^(?:AFTER|BEFORE)_/.test(n)?e.isArray(s)?e.inArray(!1,s)<0:"undefined"==typeof s?!0:!!s:s}},o={oApp:null,cast:function(e,t){return this.oApp&&this.oApp._cast?this.oApp._cast(this,e,t||[]):void 0},broadcast:function(e,t){this.oApp&&this.oApp.broadcast&&this.oApp.broadcast(this,mag,t||[])}},window.xe=e.extend(r,n),window.xe.lang={},e(function(){xe.broadcast("ONREADY")}),e(window).load(function(){xe.broadcast("ONLOAD")})}(jQuery),jQuery&&jQuery.noConflict(),function(e){var t=navigator.userAgent.toLowerCase();e.os={Linux:/linux/.test(t),Unix:/x11/.test(t),Mac:/mac/.test(t),Windows:/win/.test(t)},e.os.name=e.os.Windows?"Windows":e.os.Linux?"Linux":e.os.Unix?"Unix":e.os.Mac?"Mac":"",window.XE={loaded_popup_menus:new Array,addedDocument:new Array,checkboxToggleAll:function(t){is_def(t)||(t="cart");var n={wrap:null,checked:"toggle",doClick:!1};switch(arguments.length){case 1:"string"==typeof arguments[0]?t=arguments[0]:(e.extend(n,arguments[0]||{}),t="cart");break;case 2:t=arguments[0],e.extend(n,arguments[1]||{})}if(1==n.doClick&&(n.checked=null),"string"==typeof n.wrap&&(n.wrap="#"+n.wrap),n.wrap)var r=e(n.wrap).find('input[name="'+t+'"]:checkbox');else var r=e('input[name="'+t+'"]:checkbox');"toggle"==n.checked?r.each(function(){e(this).attr("checked",e(this).attr("checked")?!1:!0)}):1==n.doClick?r.click():r.attr("checked",n.checked)},displayPopupMenu:function(t,n,r){var o=(r.target_srl,r.menu_id),i=t.menus,a="";if(this.loaded_popup_menus[o])a=this.loaded_popup_menus[o];else{if(i){var s=i.item;if(("undefined"==typeof s.length||s.length<1)&&(s=new Array(s)),s.length)for(var u=0;u<s.length;u++){var c=s[u].url,l=s[u].str,d=(s[u].icon,s[u].target),f="",p="";switch(d){case"popup":p=" onclick=\"popopen(this.href,'"+d+"'); return false;\"";break;case"javascript":p=' onclick="'+c+'; return false; "',c="#";break;default:p=' onclick="window.open(this.href); return false;"'}a+="<li "+f+'><a href="'+c+'"'+p+">"+l+"</a></li> "}}this.loaded_popup_menus[o]=a}if(a){var h=e("#popup_menu_area").html("<ul>"+a+"</ul>"),m={top:r.page_y,left:r.page_x};h.outerHeight()+m.top>e(window).height()+e(window).scrollTop()&&(m.top=e(window).height()-h.outerHeight()+e(window).scrollTop()),h.outerWidth()+m.left>e(window).width()+e(window).scrollLeft()&&(m.left=e(window).width()-h.outerWidth()+e(window).scrollLeft()),h.css({top:m.top,left:m.left}).show()}}}}(jQuery),jQuery(function(e){e.browser.msie&&e("select").each(function(e,t){for(var n=!1,r=new Array,o=0;o<t.options.length;o++)t.options[o].disabled?(t.options[o].style.color="#CCCCCC",n=!0):r[e]=r[e]>-1?r[e]:o;n&&(t.oldonchange=t.onchange,t.onchange=function(){this.options[this.selectedIndex].disabled?this.selectedIndex=r[e]:this.oldonchange&&this.oldonchange()},t.selectedIndex>=0&&t.options[t.selectedIndex].disabled&&t.onchange())});var t=e(".xe_content .fold_button");if(t.size()){var n=e("div.fold_container",t);e("button.more",t).click(function(){e(this).hide().next("button").show().parent().next(n).show()}),e("button.less",t).click(function(){e(this).hide().prev("button").show().parent().next(n).hide()})}jQuery('input[type="submit"],button[type="submit"]').click(function(e){var t=jQuery(e.currentTarget);setTimeout(function(){return function(){t.attr("disabled","disabled")}}(),0),setTimeout(function(){return function(){t.removeAttr("disabled")}}(),3e3)})}),function(){function e(e,t){return e.replace(/#.*$/,"")===t.replace(/#.*$/,"")}var t=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};String.prototype.getQuery=function(t){var n=e(this,window.location.href)?current_url:this,r=n.indexOf("?");if(-1==r)return null;var o=n.substr(r+1,this.length),i={};o.replace(/([^=]+)=([^&]*)(&|$)/g,function(){i[arguments[1]]=arguments[2]});var a=i[t];return"undefined"==typeof a&&(a=""),a},String.prototype.setQuery=function(n,r){var o,i,a,s=e(this,window.location.href)?current_url:this,u=s.indexOf("?"),c=s.replace(/#$/,"");if("undefined"==typeof r&&(r=""),-1!=u){var l=c.substr(u+1,s.length),d={},f=[];c=s.substr(0,u),l.replace(/([^=]+)=([^&]*)(&|$)/g,function(e,t,n){d[t]=n}),d[n]=r;for(var p in d)d.hasOwnProperty(p)&&(a=String(d[p]).trim())&&f.push(p+"="+decodeURI(a));l=f.join("&"),c+=l?"?"+l:""}else String(r).trim()&&(c=c+"?"+n+"="+r);if(i=/^https:\/\/([^:\/]+)(:\d+|)/i,i.test(c)){var h="http://"+RegExp.$1;window.http_port&&80!=http_port&&(h+=":"+http_port),c=c.replace(i,h)}var m=!!window.enforce_ssl;if(!m&&t(window.ssl_actions)&&(o=c.getQuery("act")))for(var _=0,g=ssl_actions.length;g>_;_++)if(ssl_actions[_]===o){m=!0;break}if(i=/http:\/\/([^:\/]+)(:\d+|)/i,m&&i.test(c)){var h="https://"+RegExp.$1;window.https_port&&443!=https_port&&(h+=":"+https_port),c=c.replace(i,h)}return c=c.replace(/\/(index\.php)?\?/,"/index.php?"),encodeURI(c)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}}();var winopen_list=new Array,objForSavedDoc=null,addedDocument=new Array,Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,o,i,a,s,u="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),o=t>>2,i=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return u},decode:function(e){var t,n,r,o,i,a,s,u="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)o=this._keyStr.indexOf(e.charAt(c++)),i=this._keyStr.indexOf(e.charAt(c++)),a=this._keyStr.indexOf(e.charAt(c++)),s=this._keyStr.indexOf(e.charAt(c++)),t=o<<2|i>>4,n=(15&i)<<4|a>>2,r=(3&a)<<6|s,u+=String.fromCharCode(t),64!=a&&(u+=String.fromCharCode(n)),64!=s&&(u+=String.fromCharCode(r));return u=Base64._utf8_decode(u)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)r=e.charCodeAt(n),128>r?(t+=String.fromCharCode(r),n++):r>191&&224>r?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}};objectExtend=jQuery.extend;var loaded_popup_menus=XE.loaded_popup_menus;jQuery(function(e){e(".lang_code").each(function(){var t=e(this),n=t.attr("id");"undefined"==typeof n&&(n=t.attr("name")),"undefined"!=typeof n&&t.after("<a href='"+request_uri.setQuery("module","module").setQuery("act","dispModuleAdminLangcode").setQuery("target",n)+"' class='buttonSet buttonSetting' onclick='popopen(this.href);return false;'><span>find_langcode</span></a>")}),e(document).click(function(t){var n=e("#popup_menu_area");n.length||(n=e('<div id="popup_menu_area" style="display:none;z-index:9999" />').appendTo(document.body)),n.hide();var r=e(t.target).filter("a,div,span");if(r.length||(r=e(t.target).closest("a,div,span")),r.length){var o,i=r.attr("class");if(i&&(o=i.match(new RegExp("(?:^| )((document|comment|member)_([1-9]\\d*))(?: |$)",""))),o){var a="get"+ucfirst(o[2])+"Menu",s={mid:current_mid,cur_mid:current_mid,menu_id:o[1],target_srl:o[3],cur_act:current_url.getQuery("act"),page_x:t.pageX,page_y:t.pageY},u="error message menus".split(" ");if(t.preventDefault(),t.stopPropagation(),is_def(window.xeVid)&&(s.vid=xeVid),is_def(XE.loaded_popup_menus[s.menu_id]))return XE.displayPopupMenu(s,u,s);show_waiting_message=!1,exec_xml("member",a,s,XE.displayPopupMenu,u,s),show_waiting_message=!0}}}),e("a._xe_popup").click(function(){var t,n=e(this),r=n.attr("name"),o=n.attr("href");return r||(r="_xe_popup_"+Math.floor(1e3*Math.random())),t=window.open(o,r,"left=10,top=10,width=10,height=10,resizable=no,scrollbars=no,toolbars=no"),t&&t.focus(),!1}),e.datepicker&&e.datepicker.setDefaults({dateFormat:"yy-mm-dd"})});var show_waiting_message=!0;!function($){function send_by_form(e,t){var n="xeTmpIframe",r="xeVirtualForm";$("#"+n).length||$('<iframe name="%id%" id="%id%" style="position:absolute;left:-1px;top:1px;width:1px;height:1px"></iframe>'.replace(/%id%/g,n)).appendTo(document.body),$("#"+r).remove();var o=$('<form id="%id%"></form>'.replace(/%id%/g,r)).attr({id:r,method:"post",action:e,target:n});t.xeVirtualRequestMethod="xml",t.xeRequestURI=location.href.replace(/#(.*)$/i,""),t.xeVirtualRequestUrl=request_uri,$.each(t,function(e,t){$('<input type="hidden">').attr("name",e).attr("value",t).appendTo(o)}),o.appendTo(document.body).submit()}function arr2obj(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function beforeUnloadHandler(){return""}$.exec_xml=window.exec_xml=function(module,act,params,callback_func,response_tags,callback_func_arg,fo_obj){function onsuccess(data,textStatus,xhr){var resp_xml=$(data).find("response")[0],resp_obj,txt="",ret=[],tags={},json_str="";if(waiting_obj.css("display","none").trigger("cancel_confirm"),!resp_xml)return alert(_xhr.responseText),null;if(json_str=xml2json(resp_xml,!1,!1),resp_obj="object"==typeof JSON&&$.isFunction(JSON.parse)?JSON.parse(json_str):eval("("+json_str+")"),resp_obj=resp_obj.response,"undefined"==typeof resp_obj){ret.error=-1,ret.message="Unexpected error occured.";try{"undefined"!=typeof(txt=resp_xml.childNodes[0].firstChild.data)&&(ret.message+="\r\n"+txt)}catch(e){}return ret}return $.each(response_tags,function(e,t){tags[t]=!0}),tags.redirect_url=!0,tags.act=!0,$.each(resp_obj,function(e,t){tags[e]&&(ret[e]=t)}),0!=ret.error?$.isFunction($.exec_xml.onerror)?$.exec_xml.onerror(module,act,ret,callback_func,response_tags,callback_func_arg,fo_obj):(alert((ret.message||"An unknown error occured while loading ["+module+"."+act+"]").replace(/\\n/g,"\n")),null):ret.redirect_url?(location.href=ret.redirect_url.replace(/&/g,"&"),null):void($.isFunction(callback_func)&&callback_func(ret,response_tags,callback_func_arg,fo_obj))}var xml_path=request_uri+"index.php";if(params||(params={}),$.isArray(params)&&(params=arr2obj(params)),params.module=module,params.act=act,"undefined"!=typeof xeVid&&(params.vid=xeVid),"undefined"==typeof response_tags||response_tags.length<1?response_tags=["error","message"]:response_tags.push("error","message"),$.isArray(ssl_actions)&&params.act&&$.inArray(params.act,ssl_actions)>=0){var url=default_url||request_uri,port=window.https_port||443,_ul=$("<a>").attr("href",url)[0],target="https://"+_ul.hostname.replace(/:\d+$/,"");443!=port&&(target+=":"+port),"/"!=_ul.pathname[0]&&(target+="/"),target+=_ul.pathname,xml_path=target.replace(/\/$/,"")+"/index.php"}var _u1=$("<a>").attr("href",location.href)[0],_u2=$("<a>").attr("href",xml_path)[0];if(_u1.protocol!=_u2.protocol||_u1.port!=_u2.port)return send_by_form(xml_path,params);var xml=[],xmlHelper=function(e){var t=[];return $.isArray(e)?$.each(e,function(e,n){t.push('<value type="array">'+xmlHelper(n)+"</value>")}):$.isPlainObject(e)?$.each(e,function(e,n){t.push("<"+e+">"+xmlHelper(n)+"</"+e+">")}):$.isFunction(e)||t.push("<![CDATA["+e+"]]>"),t.join("\n")};xml.push('<?xml version="1.0" encoding="utf-8" ?>'),xml.push("<methodCall>"),xml.push("<params>"),xml.push(xmlHelper(params)),xml.push("</params>"),xml.push("</methodCall>");var _xhr=null;_xhr&&0!=_xhr.readyState&&_xhr.abort();try{$.ajax({url:xml_path,type:"POST",dataType:"xml",data:xml.join("\n"),contentType:"text/plain",beforeSend:function(e){_xhr=e},success:onsuccess,error:function(e,t){waiting_obj.css("display","none");var n="";if("parsererror"==t){if(n="The result is not valid XML :\n-------------------------------------\n",""==e.responseText)return;n+=e.responseText.replace(/<[^>]+>/g,"")}else n=t;try{console.log(n)}catch(r){}}})}catch(e){return void alert(e)}var waiting_obj=$(".wfsr");show_waiting_message&&waiting_obj.length&&waiting_obj.html(waiting_message).show()},$.exec_json=window.exec_json=function(e,t,n,r){if("undefined"==typeof t&&(t={}),e=e.split("."),2==e.length){var o=$(".wfsr").data("timeout_id");o&&clearTimeout(o),$(".wfsr").css("opacity",0),$(".wfsr").data("timeout_id",setTimeout(function(){$(".wfsr").css("opacity","")},1e3)),show_waiting_message&&$(".wfsr").html(waiting_message).show(),$.extend(t,{module:e[0],act:e[1]}),"undefined"!=typeof xeVid&&$.extend(t,{vid:xeVid});try{$.ajax({type:"POST",dataType:"json",url:request_uri,contentType:"application/json",data:$.param(t),success:function(e){return $(".wfsr").hide().trigger("cancel_confirm"),"0"!=e.error&&e.error>-1e3?-1==e.error&&"msg_is_not_administrator"==e.message?(alert("You are not logged in as an administrator"),void($.isFunction(r)&&r(e))):(alert(e.message),void($.isFunction(r)&&r(e))):void($.isFunction(n)&&n(e))},error:function(e,t){$(".wfsr").hide();var n="";if("parsererror"==t){if(n="The result is not valid JSON :\n-------------------------------------\n",""===e.responseText)return;n+=e.responseText.replace(/<[^>]+>/g,"")}else n=t;try{console.log(n)}catch(r){}}})}catch(i){return void alert(i)}}},$.fn.exec_html=function(e,t,n,r,o){"undefined"==typeof t&&(t={}),$.inArray(n,["html","append","prepend"])||(n="html");var i=$(this);if(e=e.split("."),2==e.length){var a=$(".wfsr").data("timeout_id");a&&clearTimeout(a),$(".wfsr").css("opacity",0),$(".wfsr").data("timeout_id",setTimeout(function(){$(".wfsr").css("opacity","")},1e3)),show_waiting_message&&$(".wfsr").html(waiting_message).show(),$.extend(t,{module:e[0],act:e[1]});try{$.ajax({type:"POST",dataType:"html",url:request_uri,data:$.param(t),success:function(e){$(".wfsr").hide().trigger("cancel_confirm"),i[n](e),$.isFunction(r)&&r(o)},error:function(e,t){$(".wfsr").hide();var n="";if("parsererror"==t){if(n="The result is not valid page :\n-------------------------------------\n",""===e.responseText)return;n+=e.responseText.replace(/<[^>]+>/g,"")}else n=t;try{console.log(n)}catch(r){}}})}catch(s){return void alert(s)}}},$(function(e){e(".wfsr").ajaxStart(function(){e(window).bind("beforeunload",beforeUnloadHandler)}).bind("ajaxStop cancel_confirm",function(){e(window).unbind("beforeunload",beforeUnloadHandler)})})}(jQuery),function(e){function t(e){var t=[];return e.is(":radio")?e.filter(":checked").val():e.is(":checkbox")?(e.filter(":checked").each(function(){t.push(this.value)}),t.join("|@|")):e.val()}function n(e){if(e+="",!e.length)return 0;e=encodeURI(e);var t=e.split("%").length-1;return e.length-2*t}var r=[],o=[],i={},a=[],s={},u=xe.createApp("Validator",{init:function(){var e=/^[\w-]+((?:\.|\+|\~)[\w-]+)*@[\w-]+(\.[\w-]+)+$/;this.cast("ADD_RULE",["email",e]),this.cast("ADD_RULE",["email_address",e]);var t=/^[a-z]+[\w-]*[a-z0-9_]+$/i;this.cast("ADD_RULE",["userid",t]),this.cast("ADD_RULE",["user_id",t]);var n=/^(https?|ftp|mms):\/\/[0-9a-z-]+(\.[_0-9a-z-]+)+(:\d+)?/;this.cast("ADD_RULE",["url",n]),this.cast("ADD_RULE",["homepage",n]);var r=new RegExp("^[가-힣]*$");this.cast("ADD_RULE",["korean",r]);var o=new RegExp("^[가-힣0-9]*$");this.cast("ADD_RULE",["korean_number",o]);var i=/^[a-z]*$/i;this.cast("ADD_RULE",["alpha",i]);var a=/^[a-z][a-z0-9_]*$/i;this.cast("ADD_RULE",["alpha_number",a]);var s=/^[0-9]*$/;this.cast("ADD_RULE",["number",s])},run:function(e){var t="";e._filter&&(t=e._filter.value);var n=[e,t],r=this.cast("VALIDATE",n);return"undefined"==typeof r&&(r=!1),r},API_ONREADY:function(){var t=this;e("form").each(function(){this.onsubmit&&(this["xe:onsubmit"]=this.onsubmit,this.onsubmit=null)}).submit(function(n){var r=this["xe:onsubmit"],o=e.isFunction(r),i=o?r.apply(this):t.run(this);return i||n.stopImmediatePropagation(),i})},API_VALIDATE:function(r,o){function u(e){return e.replace(/([\.\+\-\[\]\{\}\(\)\\])/g,"\\$1")}var c,l,d,p,h,m,_,g,v,y,w,x,b,A,j,C,$,T,E,D,S,L,k,R=!0,Q=o[0],P=Q.elements;if(P.ruleset?c=Q.elements.ruleset.value:P._filter&&(c=Q.elements._filter.value),!c)return!0;for(e.isFunction(a[c])&&(d=a[c]),c=e.extend({},i[c.toLowerCase()]||{},s),p=[],E=0,D=Q.elements.length;D>E;E++)_=P[E],m=_.name,m&&P[m]&&(P[m].length&&P[m][0]!==_||p.push(m));p=p.join("\n"),l={};for(m in c)if(c.hasOwnProperty(m)&&(h=[],"^"==m.substr(0,1))){for(h=p.match(new RegExp("^"+u(m.substr(1))+".*$","gm")),h||(h=[]),E=0,D=h.length;D>E;E++)l[h[E]]=c[m];c[m]=null,delete c[m]}c=e.extend(c,l);for(m in c)if(c.hasOwnProperty(m)&&(f=c[m],_=P[m],_||(_=P[m+"[]"]),g=_?e.trim(t(e(_))):"",v=(f.modifier||"")+",",_&&!_.disabled)){if(f["if"])for(e.isArray(f["if"])||(f["if"]=[f["if"]]),E=0;E<f["if"].length;E++)L=f["if"][E],k=new Function("el","return !!("+L.test.replace(/\$(\w+)/g,"(jQuery('[name=$1]').is(':radio, :checkbox') ? jQuery('[name=$1]:checked').val() : jQuery('[name=$1]').val())")+")"),k(P)?f[L.attr]=L.value:delete f[L.attr];if(g){if(b=parseInt(f.minlength)||0,x=parseInt(f.maxlength)||0,j=/b$/.test(f.minlength||""),A=/b$/.test(f.maxlength||""),y=g.length,(j||A)&&(w=n(g)),b&&b>(j?w:y)||x&&(A?w:y)>x)return this.cast("ALERT",[Q,m,"outofrange",b,x])&&!1;if(f.equalto&&($=P[f.equalto],T=$?e.trim(t(e($))):"",$&&T!==g))return this.cast("ALERT",[Q,m,"equalto"])&&!1;for(C=(f.rule||"").split(","),E=0,D=C.length;D>E;E++)if((S=C[E])&&(R=this.cast("APPLY_RULE",[S,g]),v.indexOf("not,")>-1&&(R=!R),!R))return this.cast("ALERT",[Q,m,"invalid_"+S])&&!1}else if(f["default"]&&(g=f["default"]),f.required)return this.cast("ALERT",[Q,m,"isnull"])&&!1}return e.isFunction(d)?d(Q):!0},API_ADD_RULE:function(e,t){var n=t[0].toLowerCase();o[n]=t[1]},API_DEL_RULE:function(e,t){var n=t[0].toLowerCase();delete o[n]},API_GET_RULE:function(e,t){var n=t[0].toLowerCase();
return o[n]?o[n]:null},API_ADD_FILTER:function(e,t){var n=t[0].toLowerCase(),r=t[1];i[n]=r},API_DEL_FILTER:function(e,t){var n=t[0].toLowerCase();delete i[n]},API_GET_FILTER:function(e,t){var n=t[0].toLowerCase();return i[n]?i[n]:null},API_ADD_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase(),r=t[1];s[n]=r},API_GET_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase();return s[n]},API_DEL_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase();delete s[n]},API_APPLY_RULE:function(t,n){var r=n[0],i=n[1];return"undefined"==typeof o[r]?!0:e.isFunction(o[r])?o[r](i):o[r]instanceof RegExp?o[r].test(i):e.isArray(o[r])?e.inArray(i,o[r])>-1:!0},API_ALERT:function(t,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=this.cast("GET_MESSAGE",[o]),c=this.cast("GET_MESSAGE",[i]);c!=i&&(c=c.indexOf("%s")<0?u+c:c.replace("%s",u)),(a||s)&&(c+="("+(a||"")+"~"+(s||"")+")"),this.cast("SHOW_ALERT",[c]),e(r.elements[o]).focus()},API_SHOW_ALERT:function(e,t){alert(t[0])},API_ADD_MESSAGE:function(e,t){var n=t[0],o=t[1];r[n]=o},API_GET_MESSAGE:function(e,t){var n=t[0];return r[n]||n},API_ADD_CALLBACK:function(e,t){var n=t[0],r=t[1];a[n]=r},API_REMOVE_CALLBACK:function(e,t){var n=t[0];delete a[n]}}),c=new u;xe.registerApp(c);var l=xe.createPlugin("editor_stub",{API_BEFORE_VALIDATE:function(e,t){var n=t[0],r=n.getAttribute("editor_sequence");if(r&&"object"==typeof r&&(r=r.value),r)try{editorRelKeys[r].content.value=editorRelKeys[r].func(r)||""}catch(o){}}});c.registerPlugin(new l)}(jQuery);