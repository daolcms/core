/**
 * @file   common/js/xe.min.js
 * @author NHN (developers@xpressengine.com)
 * @Adaptor DAOL Project (developer@daolcms.org)
 * @brief  XE Common JavaScript
 **/
function xSleep(a){a/=1e3;for(var b=new Date,c=new Date;c.getTime()-b.getTime()<a;)c=new Date}function isDef(){for(var a=0;a<arguments.length;++a)if("undefined"==typeof arguments[a])return!1;return!0}function winopen(a,b,c){"undefined"!=typeof xeVid&&a.indexOf(request_uri)>-1&&!a.getQuery("vid")&&(a=a.setQuery("vid",xeVid));try{"_blank"!=b&&winopen_list[b]&&(winopen_list[b].close(),winopen_list[b]=null)}catch(a){}"undefined"==typeof b&&(b="_blank"),"undefined"==typeof c&&(c="");var d=window.open(a,b,c);d.focus(),"_blank"!=b&&(winopen_list[b]=d)}function popopen(a,b){"undefined"==typeof b&&(b="_blank"),"undefined"!=typeof xeVid&&a.indexOf(request_uri)>-1&&!a.getQuery("vid")&&(a=a.setQuery("vid",xeVid)),winopen(a,b,"width=650,height=500,scrollbars=yes,resizable=yes,toolbars=no")}function sendMailTo(a){location.href="mailto:"+a}function move_url(a,b){return!!a&&("undefined"==typeof b&&(b="N"),b="N"!=b,/^\./.test(a)&&(a=request_uri+a),b?winopen(a):location.href=a,!1)}function displayMultimedia(a,b,c,d){var e=_displayMultimedia(a,b,c,d);e&&document.writeln(e)}function _displayMultimedia(a,b,c,d){0==a.indexOf("files")&&(a=request_uri+a);var e={wmode:"transparent",allowScriptAccess:"sameDomain",quality:"high",flashvars:"",autostart:!1},f=jQuery.extend(e,d||{}),g=f.autostart&&"false"!=f.autostart?"true":"false";delete f.autostart;var h="",i="",j="";if(/\.(gif|jpg|jpeg|bmp|png)$/i.test(a))j='<img src="'+a+'" width="'+b+'" height="'+c+'" />';else if(/\.flv$/i.test(a)||/\.mov$/i.test(a)||/\.moov$/i.test(a)||/\.m4v$/i.test(a))j='<embed src="'+request_uri+'common/img/flvplayer.swf" allowfullscreen="true" allowscriptaccess="never" autostart="'+g+'" width="'+b+'" height="'+c+'" flashvars="&file='+a+"&width="+b+"&height="+c+"&autostart="+g+'" wmode="'+f.wmode+'" />';else if(/\.swf/i.test(a)){h="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",i="undefined"!=typeof enforce_ssl&&enforce_ssl?"https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0":"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0",j='<object classid="'+h+'" codebase="'+i+'" width="'+b+'" height="'+c+'" flashvars="'+f.flashvars+'">',j+='<param name="movie" value="'+a+'" />';for(var k in f)"undefined"!=f[k]&&""!=f[k]&&(j+='<param name="'+k+'" value="'+f[k]+'" />');j+='<embed src="'+a+'" allowscriptaccess="never" autostart="'+g+'" width="'+b+'" height="'+c+'" flashvars="'+f.flashvars+'" wmode="'+f.wmode+'"></embed></object>'}else(jQuery.browser.mozilla||jQuery.browser.opera)&&(g=f.autostart&&"false"!=f.autostart?"1":"0"),j='<embed src="'+a+'" allowscriptaccess="never" autostart="'+g+'" width="'+b+'" height="'+c+'"',"transparent"==f.wmode&&(j+=' windowlessvideo="1"'),j+="></embed>";return j}function zbxe_folder_open(a){jQuery("#folder_open_"+a).hide(),jQuery("#folder_close_"+a).show(),jQuery("#folder_"+a).show()}function zbxe_folder_close(a){jQuery("#folder_open_"+a).show(),jQuery("#folder_close_"+a).hide(),jQuery("#folder_"+a).hide()}function setFixedPopupSize(){var d,e,f,g,h,a=jQuery,b=a(window),c=a("body>.popup");h=c.css({overflow:"scroll"}).offset(),d=c.width(10).height(1e4).get(0).scrollWidth+2*h.left,e=c.height(10).width(1e4).get(0).scrollHeight+2*h.top,d<600&&(d=600+2*h.left),f=b.width(),g=b.height(),d!=f&&window.resizeBy(d-f,0),e!=g&&window.resizeBy(0,e-g),c.width(d-2*h.left).css({overflow:"",height:""})}function doCallModuleAction(a,b,c){var d={target_srl:c,cur_mid:current_mid,mid:current_mid};exec_xml(a,b,d,completeCallModuleAction)}function completeCallModuleAction(a,b){"success"!=a.message&&alert(a.message),location.reload()}function completeMessage(a){alert(a.message),location.reload()}function doChangeLangType(a){if("string"==typeof a)setLangType(a);else{var b=a.options[a.selectedIndex].value;setLangType(b)}location.href=location.href.setQuery("l","")}function setLangType(a){var b=new Date;b.setTime(b.getTime()+6048e8),setCookie("lang_type",a,b,"/")}function doDocumentPreview(a){for(var b=a;"FORM"!=b.nodeName;)b=b.parentNode;if("FORM"==b.nodeName){var c=b.getAttribute("editor_sequence"),d=editorGetContent(c),f=(window.open("","previewDocument","toolbars=no,width=700px;height=800px,scrollbars=yes,resizable=yes"),jQuery("#previewDocument"));f.length?f=f[0]:(jQuery('<form id="previewDocument" target="previewDocument" method="post" action="'+request_uri+'"><input type="hidden" name="module" value="document" /><input type="hidden" name="act" value="dispDocumentPreview" /><input type="hidden" name="content" /></form>').appendTo(document.body),f=jQuery("#previewDocument")[0]),f&&(f.content.value=d,f.submit())}}function doDocumentSave(a){var b=a.form.getAttribute("editor_sequence"),c=editorRelKeys[b].content.value;if("undefined"!=typeof b&&b&&"undefined"!=typeof editorRelKeys&&"function"==typeof editorGetContent){var d=editorGetContent(b);editorRelKeys[b].content.value=d}var e={},f=["error","message","document_srl"],h=(a.form.elements,jQuery(a.form).serializeArray());return jQuery.each(h,function(a,b){var c=jQuery.trim(b.value);return!c||(/\[\]$/.test(b.name)&&(b.name=b.name.replace(/\[\]$/,"")),void(e[b.name]?e[b.name]+="|@|"+c:e[b.name]=b.value))}),exec_xml("document","procDocumentTempSave",e,completeDocumentSave,f,e,a.form),editorRelKeys[b].content.value=c,!1}function completeDocumentSave(a){jQuery("input[name=document_srl]").eq(0).val(a.document_srl),alert(a.message)}function doDocumentLoad(a){objForSavedDoc=a.form,popopen(request_uri.setQuery("module","document").setQuery("act","dispTempSavedList"))}function doDocumentSelect(a,b){if(!opener||!opener.objForSavedDoc)return void window.close();switch(b==underfined&&(b="document"),b){case"page":var c=opener.current_url;c=c.setQuery("document_srl",a),c="dispPageAdminMobileContentModify"===c.getQuery("act")?c.setQuery("act","dispPageAdminMobileContentModify"):c.setQuery("act","dispPageAdminContentModify"),opener.location.href=c;break;default:opener.location.href=opener.current_url.setQuery("document_srl",a).setQuery("act","dispBoardWrite")}window.close()}function viewSkinInfo(a,b){popopen("./?module=module&act=dispModuleSkinInfo&selected_module="+a+"&skin="+b,"SkinInfo")}function doAddDocumentCart(a){var b=a.value;addedDocument[addedDocument.length]=b,setTimeout(function(){callAddDocumentCart(addedDocument.length)},100)}function callAddDocumentCart(a){if(!(addedDocument.length<1||a!=addedDocument.length)){var b=new Array;b.srls=addedDocument.join(","),exec_xml("document","procDocumentAddCart",b,null),addedDocument=new Array}}function transRGB2Hex(a){if(!a)return a;if(a.indexOf("#")>-1)return a.replace(/^#/,"");if(a.toLowerCase().indexOf("rgb")<0)return a;a=a.replace(/^rgb\(/i,"").replace(/\)$/,""),value_list=a.split(",");for(var b="",c=0;c<value_list.length;c++){var d=parseInt(value_list[c],10).toString(16);1==d.length&&(d="0"+d),b+=d}return b}function toggleSecuritySignIn(){var a=location.href;/https:\/\//i.test(a)?location.href=a.replace(/^https/i,"http"):location.href=a.replace(/^http/i,"https")}function reloadDocument(){location.reload()}function resizeImageContents(){}function activateOptionDisabled(){}function toggleDisplay(a){jQuery("#"+a).toggle()}function checkboxSelectAll(a,b,c){var d=b,e={};"undefined"!=typeof a&&(e.wrap=a),"undefined"!=typeof c&&(e.checked=c),XE.checkboxToggleAll(d,e)}function clickCheckBoxAll(a,b){var c=b,d={doClick:!0};"undefined"!=typeof a&&(d.wrap=a),XE.checkboxToggleAll(c,d)}function svc_folder_open(a){jQuery("#_folder_open_"+a).hide(),jQuery("#_folder_close_"+a).show(),jQuery("#_folder_"+a).show()}function svc_folder_close(a){jQuery("#_folder_open_"+a).show(),jQuery("#_folder_close_"+a).hide(),jQuery("#_folder_"+a).hide()}function open_calendar(a,b,c){"undefined"==typeof b&&(b="");var d="./common/tpl/calendar.php?";a&&(d+="fo_id="+a),b&&(d+="&day_str="+b),c&&(d+="&callback_func="+c),popopen(d,"Calendar")}function createPopupMenu(){}function chkPopupMenu(){}function displayPopupMenu(a,b,c){XE.displayPopupMenu(a,b,c)}function GetObjLeft(a){return jQuery(a).offset().left}function GetObjTop(a){return jQuery(a).offset().top}function replaceOuterHTML(a,b){jQuery(a).replaceWith(b)}function getOuterHTML(a){return jQuery(a).html().trim()}function setCookie(a,b,c,d){var e=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+"; path="+(d?d:"/");document.cookie=e}function getCookie(a){var b=document.cookie.match(new RegExp(a+"=(.*?)(?:;|$)"));if(b)return unescape(b[1])}function is_def(a){return"undefined"!=typeof a}function ucfirst(a){return a.charAt(0).toUpperCase()+a.slice(1)}function get_by_id(a){return document.getElementById(a)}function xml2json(a,b,c){var d={toObj:function(a){var b={};if(1==a.nodeType){if(c&&a.attributes.length)for(var e=0;e<a.attributes.length;e++)b["@"+a.attributes[e].nodeName]=(a.attributes[e].nodeValue||"").toString();if(a.firstChild){for(var f=0,g=0,h=!1,i=a.firstChild;i;i=i.nextSibling)1==i.nodeType?h=!0:3==i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?f++:4==i.nodeType&&g++;if(h)if(f<2&&g<2){d.removeWhite(a);for(var i=a.firstChild;i;i=i.nextSibling)3==i.nodeType?b=d.escape(i.nodeValue):4==i.nodeType?b=d.escape(i.nodeValue):b[i.nodeName]?b[i.nodeName]instanceof Array?b[i.nodeName][b[i.nodeName].length]=d.toObj(i):b[i.nodeName]=[b[i.nodeName],d.toObj(i)]:b[i.nodeName]=d.toObj(i)}else a.attributes.length?b["#text"]=d.escape(d.innerXml(a)):b=d.escape(d.innerXml(a));else if(f)a.attributes.length?b["#text"]=d.escape(d.innerXml(a)):b=d.escape(d.innerXml(a));else if(g)if(g>1)b=d.escape(d.innerXml(a));else for(var i=a.firstChild;i;i=i.nextSibling)b=d.escape(i.nodeValue)}a.attributes.length||a.firstChild||(b=null)}else 9==a.nodeType?b=d.toObj(a.documentElement):alert("unhandled node type: "+a.nodeType);return b},toJson:function(a,b,c){var e=b?'"'+b+'"':"";if(a instanceof Array){for(var f=0,g=a.length;f<g;f++)a[f]=d.toJson(a[f],"",c+"\t");e+=(b?":[":"[")+(a.length>1?"\n"+c+"\t"+a.join(",\n"+c+"\t")+"\n"+c:a.join(""))+"]"}else if(null==a)e+=(b&&":")+"null";else if("object"==typeof a){var h=[];for(var i in a)h[h.length]=d.toJson(a[i],i,c+"\t");e+=(b?":{":"{")+(h.length>1?"\n"+c+"\t"+h.join(",\n"+c+"\t")+"\n"+c:h.join(""))+"}"}else e+="string"==typeof a?(b&&":")+'"'+a.toString()+'"':(b&&":")+a.toString();return e},innerXml:function(a){var b="";if("innerHTML"in a)b=a.innerHTML;else for(var c=function(a){var b="";if(1==a.nodeType){b+="<"+a.nodeName;for(var d=0;d<a.attributes.length;d++)b+=" "+a.attributes[d].nodeName+'="'+(a.attributes[d].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(var e=a.firstChild;e;e=e.nextSibling)b+=c(e);b+="</"+a.nodeName+">"}else b+="/>"}else 3==a.nodeType?b+=a.nodeValue:4==a.nodeType&&(b+="<![CDATA["+a.nodeValue+"]]>");return b},d=a.firstChild;d;d=d.nextSibling)b+=c(d);return b},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();for(var b=a.firstChild;b;)if(3==b.nodeType)if(b.nodeValue.match(/[^ \f\n\r\t\v]/))b=b.nextSibling;else{var c=b.nextSibling;a.removeChild(b),b=c}else 1==b.nodeType?(d.removeWhite(b),b=b.nextSibling):b=b.nextSibling;return a}};9==a.nodeType&&(a=a.documentElement);var f,e=d.toObj(d.removeWhite(a));if("object"==typeof JSON&&jQuery.isFunction(JSON.stringify),1)return f=d.toJson(e,a.nodeName,""),"{"+(b?f.replace(/\t/g,b):f.replace(/\t|\n/g,""))+"}";var g={};return g[a.nodeName]=e,f=JSON.stringify(g)}function filterAlertMessage(a){var c=(a.error,a.message),d=a.act,e=a.redirect_url,f=location.href;"undefined"!=typeof c&&c&&"success"!=c&&alert(c),"undefined"!=typeof d&&d?f=current_url.setQuery("act",d):"undefined"!=typeof e&&e&&(f=e),f==location.href&&(f=f.replace(/#(.*)$/,"")),location.href=f}function procFilter(a,b){return b(a),!1}function legacy_filter(a,b,c,d,e,f,g,h){var i=xe.getApp("Validator")[0],j=jQuery,k=[];return!!i&&(b.elements._filter||j(b).prepend('<input type="hidden" name="_filter" />'),b.elements._filter.value=a,k[0]=a,k[1]=function(a){var i={},m=(a.elements,j(a).serializeArray());return j.each(m,function(a,b){var c=j.trim(b.value),d=b.name;return!c||!d||(h[d]&&(d=h[d]),/\[\]$/.test(d)&&(d=d.replace(/\[\]$/,"")),void(i[d]?i[d]+="|@|"+c:i[d]=b.value))}),!(g&&!confirm(g))&&void exec_xml(c,d,i,e,f,i,b)},i.cast("ADD_CALLBACK",k),i.cast("VALIDATE",[b,a]),!1)}!function(a){function f(){var b=function(){var b=this;a.isArray(this._plugins)&&(this._plugins=[]),this._messages?this._messages={}:this._binded_fn={},a.each(this,function(c,d){if(!a.isFunction(d))return!0;if(!/^API_([A-Z0-9_]+)$/.test(c))return!0;var e=RegExp.$1,f=function(a,d){return b[c](a,d)};b._messages?b._messages[e]=[f]:b._binded_fn[e]=f}),a.isFunction(this.init)&&this.init.apply(this,arguments)};return b}var b,c,d,e=[];b={getName:function(){return"Core"},createApp:function(b,d){var e=f();return a.extend(e.prototype,c,d),e.prototype.getName=function(){return b},e},createPlugin:function(b,c){var e=f();return a.extend(e.prototype,d,c),e.prototype.getName=function(){return b},e},getApps:function(){return a.makeArray(e)},getApp:function(a){return a=(a||"").toLowerCase(),"undefined"!=typeof e[a]?e[a]:null},registerApp:function(b){var c=b.getName().toLowerCase();e.push(b),a.isArray(e[c])||(e[c]=[]),e[c].push(b),b.parent=this,a.isFunction(b.activate)&&b.activate()},unregisterApp:function(b){var c=b.getName().toLowerCase(),d=a.inArray(b,e);d>=0&&(e=e.splice(d,1)),a.isArray(e[c])&&(d=a.inArray(b,e[c]),d>=0&&(e[c]=e[c].splice(d,1))),a.isFunction(b.deactivate)&&b.deactivate()},broadcast:function(a,b){this._broadcast(this,a,b)},_broadcast:function(a,b,c){for(var d=0;d<e.length;d++)e[d]._cast(a,b,c);this._cast(a,b,c)}},c={_plugins:[],_messages:{},getPlugin:function(b){return b=b.toLowerCase(),a.isArray(this._plugins[b])?this._plugins[b]:[]},registerPlugin:function(b){var c=this,d=b.getName().toLowerCase();return!(a.inArray(b,this._plugins)>=0)&&(this._plugins.push(b),a.isArray(this._plugins[d])||(this._plugins[d]=[]),this._plugins[d].push(b),a.each(b._binded_fn,function(a,b){c.registerHandler(a,b)}),b.oApp=this,a.isFunction(b.activate)&&b.activate(),!0)},registerHandler:function(b,c){var d=this._messages;b=b.toUpperCase(),a.isArray(d[b])||(d[b]=[]),d[b].push(c)},cast:function(a,b){return this._cast(this,a,b||[])},broadcast:function(a,b,c){this.parent&&this.parent._broadcast&&this.parent._broadcast(a,b,c)},_cast:function(b,c,d){var e,g=this._messages;if(c=c.toUpperCase(),g["BEFORE_"+c]||this["API_BEFORE_"+c]){var h=this._cast(b,"BEFORE_"+c,d);if(!h)return}var i=[];if(a.isArray(g[c]))for(e=0;e<g[c].length;e++)i.push(g[c][e](b,d));return i.length<2&&(i=i[0]),(g["AFTER_"+c]||this["API_AFTER_"+c])&&this._cast(b,"AFTER_"+c,d),/^(?:AFTER|BEFORE)_/.test(c)?a.isArray(i)?a.inArray(!1,i)<0:"undefined"==typeof i||!!i:i}},d={oApp:null,cast:function(a,b){if(this.oApp&&this.oApp._cast)return this.oApp._cast(this,a,b||[])},broadcast:function(a,b){this.oApp&&this.oApp.broadcast&&this.oApp.broadcast(this,mag,b||[])}},window.xe=a.extend(c,b),window.xe.lang={},a(function(){xe.broadcast("ONREADY")}),a(window).load(function(){xe.broadcast("ONLOAD")})}(jQuery),jQuery&&jQuery.noConflict(),function(a){var b=navigator.userAgent.toLowerCase();a.os={Linux:/linux/.test(b),Unix:/x11/.test(b),Mac:/mac/.test(b),Windows:/win/.test(b)},a.os.name=a.os.Windows?"Windows":a.os.Linux?"Linux":a.os.Unix?"Unix":a.os.Mac?"Mac":"",window.XE={loaded_popup_menus:new Array,addedDocument:new Array,checkboxToggleAll:function(b){is_def(b)||(b="cart");var c={wrap:null,checked:"toggle",doClick:!1};switch(arguments.length){case 1:"string"==typeof arguments[0]?b=arguments[0]:(a.extend(c,arguments[0]||{}),b="cart");break;case 2:b=arguments[0],a.extend(c,arguments[1]||{})}if(1==c.doClick&&(c.checked=null),"string"==typeof c.wrap&&(c.wrap="#"+c.wrap),c.wrap)var d=a(c.wrap).find('input[name="'+b+'"]:checkbox');else var d=a('input[name="'+b+'"]:checkbox');"toggle"==c.checked?d.each(function(){a(this).attr("checked",!a(this).attr("checked"))}):1==c.doClick?d.click():d.attr("checked",c.checked)},displayPopupMenu:function(b,c,d){var f=(d.target_srl,d.menu_id),g=b.menus,h="";if(this.loaded_popup_menus[f])h=this.loaded_popup_menus[f];else{if(g){var i=g.item;if(("undefined"==typeof i.length||i.length<1)&&(i=new Array(i)),i.length)for(var j=0;j<i.length;j++){var k=i[j].url,l=i[j].str,n=(i[j].icon,i[j].target),o="",p="";switch(n){case"popup":p=" onclick=\"popopen(this.href,'"+n+"'); return false;\"";break;case"javascript":p=' onclick="'+k+'; return false; "',k="#";break;default:p=' onclick="window.open(this.href); return false;"'}h+="<li "+o+'><a href="'+k+'"'+p+">"+l+"</a></li> "}}this.loaded_popup_menus[f]=h}if(h){var q=a("#popup_menu_area").html("<ul>"+h+"</ul>"),r={top:d.page_y,left:d.page_x};q.outerHeight()+r.top>a(window).height()+a(window).scrollTop()&&(r.top=a(window).height()-q.outerHeight()+a(window).scrollTop()),q.outerWidth()+r.left>a(window).width()+a(window).scrollLeft()&&(r.left=a(window).width()-q.outerWidth()+a(window).scrollLeft()),q.css({top:r.top,left:r.left}).show()}}}}(jQuery),jQuery(function(a){a.browser.msie&&a("select").each(function(a,b){for(var c=!1,d=new Array,e=0;e<b.options.length;e++)b.options[e].disabled?(b.options[e].style.color="#CCCCCC",c=!0):d[a]=d[a]>-1?d[a]:e;c&&(b.oldonchange=b.onchange,b.onchange=function(){this.options[this.selectedIndex].disabled?this.selectedIndex=d[a]:this.oldonchange&&this.oldonchange()},b.selectedIndex>=0&&b.options[b.selectedIndex].disabled&&b.onchange())});var b=a(".xe_content .fold_button");if(b.size()){var c=a("div.fold_container",b);a("button.more",b).click(function(){a(this).hide().next("button").show().parent().next(c).show()}),a("button.less",b).click(function(){a(this).hide().prev("button").show().parent().next(c).hide()})}jQuery('input[type="submit"],button[type="submit"]').click(function(a){var b=jQuery(a.currentTarget);setTimeout(function(){return function(){b.attr("disabled","disabled")}}(),0),setTimeout(function(){return function(){b.removeAttr("disabled")}}(),3e3)})}),function(){function a(a,b){return a.replace(/#.*$/,"")===b.replace(/#.*$/,"")}var b=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};String.prototype.getQuery=function(b){var c=a(this,window.location.href)?current_url:this,d=c.indexOf("?");if(d==-1)return null;var e=c.substr(d+1,this.length),f={};e.replace(/([^=]+)=([^&]*)(&|$)/g,function(){f[arguments[1]]=arguments[2]});var g=f[b];return"undefined"==typeof g&&(g=""),g},String.prototype.setQuery=function(c,d){var h,i,j,e=a(this,window.location.href)?current_url:this,f=e.indexOf("?"),g=e.replace(/#$/,"");if("undefined"==typeof d&&(d=""),f!=-1){var k=g.substr(f+1,e.length),l={},m=[];g=e.substr(0,f),k.replace(/([^=]+)=([^&]*)(&|$)/g,function(a,b,c){l[b]=c}),l[c]=d;for(var n in l)l.hasOwnProperty(n)&&(j=String(l[n]).trim())&&m.push(n+"="+decodeURI(j));k=m.join("&"),g+=k?"?"+k:""}else String(d).trim()&&(g=g+"?"+c+"="+d);if(i=/^https:\/\/([^:\/]+)(:\d+|)/i,i.test(g)){var o="http://"+RegExp.$1;window.http_port&&80!=http_port&&(o+=":"+http_port),g=g.replace(i,o)}var p=!!window.enforce_ssl;if(!p&&b(window.ssl_actions)&&(h=g.getQuery("act")))for(var q=0,r=ssl_actions.length;q<r;q++)if(ssl_actions[q]===h){p=!0;break}if(i=/https?:\/\/([^:\/]+)(:\d+|)/i,p&&i.test(g)){var o="https://"+RegExp.$1;window.https_port&&443!=https_port&&(o+=":"+https_port),g=g.replace(i,o)}return!p&&i.test(g)&&(o="http://"+RegExp.$1,window.http_port&&80!=http_port&&(o+=":"+http_port),g=g.replace(i,o)),g=g.replace(/\/(index\.php)?\?/,"/index.php?"),encodeURI(g)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}}();var winopen_list=new Array,objForSavedDoc=null,addedDocument=new Array,Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var c,d,e,f,g,h,i,b="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h)+this._keyStr.charAt(i);return b},decode:function(a){var c,d,e,f,g,h,i,b="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),i=this._keyStr.indexOf(a.charAt(j++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,b+=String.fromCharCode(c),64!=h&&(b+=String.fromCharCode(d)),64!=i&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};objectExtend=jQuery.extend;var loaded_popup_menus=XE.loaded_popup_menus;jQuery(function(a){a(".lang_code").each(function(){var b=a(this),c=b.attr("id");"undefined"==typeof c&&(c=b.attr("name")),"undefined"!=typeof c&&b.after("<a href='"+request_uri.setQuery("module","module").setQuery("act","dispModuleAdminLangcode").setQuery("target",c)+"' class='buttonSet buttonSetting' onclick='popopen(this.href);return false;'><span>find_langcode</span></a>")}),a(document).click(function(b){var c=a("#popup_menu_area");c.length||(c=a('<div id="popup_menu_area" style="display:none;z-index:9999" />').appendTo(document.body)),c.hide();var d=a(b.target).filter("a,div,span");if(d.length||(d=a(b.target).closest("a,div,span")),d.length){var f,e=d.attr("class");if(e&&(f=e.match(new RegExp("(?:^| )((document|comment|member)_([1-9]\\d*))(?: |$)",""))),f){var g="get"+ucfirst(f[2])+"Menu",h={mid:current_mid,cur_mid:current_mid,menu_id:f[1],target_srl:f[3],cur_act:current_url.getQuery("act"),page_x:b.pageX,page_y:b.pageY},i="error message menus".split(" ");if(b.preventDefault(),b.stopPropagation(),is_def(window.xeVid)&&(h.vid=xeVid),is_def(XE.loaded_popup_menus[h.menu_id]))return XE.displayPopupMenu(h,i,h);show_waiting_message=!1,exec_xml("member",g,h,XE.displayPopupMenu,i,h),show_waiting_message=!0}}}),a("a._xe_popup").click(function(){var e,b=a(this),c=b.attr("name"),d=b.attr("href");return c||(c="_xe_popup_"+Math.floor(1e3*Math.random())),e=window.open(d,c,"left=10,top=10,width=10,height=10,resizable=no,scrollbars=no,toolbars=no"),e&&e.focus(),!1}),a.datepicker&&a.datepicker.setDefaults({dateFormat:"yy-mm-dd"})});var show_waiting_message=!0;!function($){function send_by_form(a,b){var c="xeTmpIframe",d="xeVirtualForm";$("#"+c).length||$('<iframe name="%id%" id="%id%" style="position:absolute;left:-1px;top:1px;width:1px;height:1px"></iframe>'.replace(/%id%/g,c)).appendTo(document.body),$("#"+d).remove();var e=$('<form id="%id%"></form>'.replace(/%id%/g,d)).attr({id:d,method:"post",action:a,target:c});b.xeVirtualRequestMethod="xml",b.xeRequestURI=location.href.replace(/#(.*)$/i,""),b.xeVirtualRequestUrl=request_uri,$.each(b,function(a,b){$('<input type="hidden">').attr("name",a).attr("value",b).appendTo(e)}),e.appendTo(document.body).submit()}function arr2obj(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function beforeUnloadHandler(){return""}$.exec_xml=window.exec_xml=function(module,act,params,callback_func,response_tags,callback_func_arg,fo_obj){function onsuccess(data,textStatus,xhr){var resp_xml=$(data).find("response")[0],resp_obj,txt="",ret=[],tags={},json_str="";if(waiting_obj.css("display","none").trigger("cancel_confirm"),!resp_xml)return alert(_xhr.responseText),null;if(json_str=xml2json(resp_xml,!1,!1),resp_obj="object"==typeof JSON&&$.isFunction(JSON.parse)?JSON.parse(json_str):eval("("+json_str+")"),resp_obj=resp_obj.response,"undefined"==typeof resp_obj){ret.error=-1,ret.message="Unexpected error occured.";try{"undefined"!=typeof(txt=resp_xml.childNodes[0].firstChild.data)&&(ret.message+="\r\n"+txt)}catch(a){}return ret}return $.each(response_tags,function(a,b){tags[b]=!0}),tags.redirect_url=!0,tags.act=!0,$.each(resp_obj,function(a,b){tags[a]&&(ret[a]=b)}),0!=ret.error?$.isFunction($.exec_xml.onerror)?$.exec_xml.onerror(module,act,ret,callback_func,response_tags,callback_func_arg,fo_obj):(alert((ret.message||"An unknown error occured while loading ["+module+"."+act+"]").replace(/\\n/g,"\n")),null):ret.redirect_url?(location.href=ret.redirect_url.replace(/&amp;/g,"&"),null):void($.isFunction(callback_func)&&callback_func(ret,response_tags,callback_func_arg,fo_obj))}var xml_path=request_uri+"index.php";if(params||(params={}),$.isArray(params)&&(params=arr2obj(params)),params.module=module,params.act=act,"undefined"!=typeof xeVid&&(params.vid=xeVid),"undefined"==typeof response_tags||response_tags.length<1?response_tags=["error","message"]:response_tags.push("error","message"),$.isArray(ssl_actions)&&params.act&&$.inArray(params.act,ssl_actions)>=0){var url=default_url||request_uri,port=window.https_port||443,_ul=$("<a>").attr("href",url)[0],target="https://"+_ul.hostname.replace(/:\d+$/,"");443!=port&&(target+=":"+port),"/"!=_ul.pathname[0]&&(target+="/"),target+=_ul.pathname,xml_path=target.replace(/\/$/,"")+"/index.php"}var _u1=$("<a>").attr("href",location.href)[0],_u2=$("<a>").attr("href",xml_path)[0];if(_u1.protocol!=_u2.protocol||_u1.port!=_u2.port)return send_by_form(xml_path,params);var xml=[],xmlHelper=function(a){var b=[];return $.isArray(a)?$.each(a,function(a,c){b.push('<value type="array">'+xmlHelper(c)+"</value>")}):$.isPlainObject(a)?$.each(a,function(a,c){b.push("<"+a+">"+xmlHelper(c)+"</"+a+">")}):$.isFunction(a)||b.push("<![CDATA["+a+"]]>"),b.join("\n")};xml.push('<?xml version="1.0" encoding="utf-8" ?>'),xml.push("<methodCall>"),xml.push("<params>"),xml.push(xmlHelper(params)),xml.push("</params>"),xml.push("</methodCall>");var _xhr=null;_xhr&&0!=_xhr.readyState&&_xhr.abort();try{$.ajax({url:xml_path,type:"POST",dataType:"xml",data:xml.join("\n"),contentType:"text/plain",beforeSend:function(a){_xhr=a},success:onsuccess,error:function(a,b){waiting_obj.css("display","none");var c="";if("parsererror"==b){if(c="The result is not valid XML :\n-------------------------------------\n",""==a.responseText)return;c+=a.responseText.replace(/<[^>]+>/g,"")}else c=b;try{console.log(c)}catch(a){}}})}catch(a){return void alert(a)}var waiting_obj=$(".wfsr");show_waiting_message&&waiting_obj.length&&waiting_obj.html(waiting_message).show()},$.exec_json=window.exec_json=function(a,b,c,d){if("undefined"==typeof b&&(b={}),a=a.split("."),2==a.length){var e=$(".wfsr").data("timeout_id");e&&clearTimeout(e),$(".wfsr").css("opacity",0),$(".wfsr").data("timeout_id",setTimeout(function(){$(".wfsr").css("opacity","")},1e3)),show_waiting_message&&$(".wfsr").html(waiting_message).show(),$.extend(b,{module:a[0],act:a[1]}),"undefined"!=typeof xeVid&&$.extend(b,{vid:xeVid});try{$.ajax({type:"POST",dataType:"json",url:request_uri,contentType:"application/json",data:$.param(b),success:function(a){return $(".wfsr").hide().trigger("cancel_confirm"),"0"!=a.error&&a.error>-1e3?a.error==-1&&"msg_is_not_administrator"==a.message?(alert("You are not logged in as an administrator"),void($.isFunction(d)&&d(a))):(alert(a.message),void($.isFunction(d)&&d(a))):void($.isFunction(c)&&c(a))},error:function(a,b){$(".wfsr").hide();var c="";if("parsererror"==b){if(c="The result is not valid JSON :\n-------------------------------------\n",""===a.responseText)return;c+=a.responseText.replace(/<[^>]+>/g,"")}else c=b;try{console.log(c)}catch(a){}}})}catch(a){return void alert(a)}}},$.fn.exec_html=function(a,b,c,d,e){"undefined"==typeof b&&(b={}),$.inArray(c,["html","append","prepend"])||(c="html");var f=$(this);if(a=a.split("."),2==a.length){var g=$(".wfsr").data("timeout_id");g&&clearTimeout(g),$(".wfsr").css("opacity",0),$(".wfsr").data("timeout_id",setTimeout(function(){$(".wfsr").css("opacity","")},1e3)),show_waiting_message&&$(".wfsr").html(waiting_message).show(),$.extend(b,{module:a[0],act:a[1]});try{$.ajax({type:"POST",dataType:"html",url:request_uri,data:$.param(b),success:function(a){$(".wfsr").hide().trigger("cancel_confirm"),f[c](a),$.isFunction(d)&&d(e)},error:function(a,b){$(".wfsr").hide();var c="";if("parsererror"==b){if(c="The result is not valid page :\n-------------------------------------\n",""===a.responseText)return;c+=a.responseText.replace(/<[^>]+>/g,"")}else c=b;try{console.log(c)}catch(a){}}})}catch(a){return void alert(a)}}},$(function(a){a(".wfsr").ajaxStart(function(){a(window).bind("beforeunload",beforeUnloadHandler)}).bind("ajaxStop cancel_confirm",function(){a(window).unbind("beforeunload",beforeUnloadHandler)})})}(jQuery),function(a){function k(a){var b=[];return a.is(":radio")?a.filter(":checked").val():a.is(":checkbox")?(a.filter(":checked").each(function(){b.push(this.value)}),b.join("|@|")):a.val()}function l(a){if(a+="",!a.length)return 0;a=encodeURI(a);var b=a.split("%").length-1;return a.length-2*b}var b=[],c=[],d={},e=[],g={},h=xe.createApp("Validator",{init:function(){var a=/^[\w-]+((?:\.|\+|\~)[\w-]+)*@[\w-]+(\.[\w-]+)+$/;this.cast("ADD_RULE",["email",a]),this.cast("ADD_RULE",["email_address",a]);var b=/^[a-z]+[\w-]*[a-z0-9_]+$/i;this.cast("ADD_RULE",["userid",b]),this.cast("ADD_RULE",["user_id",b]);var c=/^(https?|ftp|mms):\/\/[0-9a-z-]+(\.[_0-9a-z-]+)+(:\d+)?/;this.cast("ADD_RULE",["url",c]),this.cast("ADD_RULE",["homepage",c]);var d=new RegExp("^[가-힣]*$");this.cast("ADD_RULE",["korean",d]);var e=new RegExp("^[가-힣0-9]*$");this.cast("ADD_RULE",["korean_number",e]);var f=/^[a-z]*$/i;this.cast("ADD_RULE",["alpha",f]);var g=/^[a-z][a-z0-9_]*$/i;this.cast("ADD_RULE",["alpha_number",g]);var h=/^[0-9]*$/;this.cast("ADD_RULE",["number",h]);var i=/^\d+(\.\d+)?$/;this.cast("ADD_RULE",["float",i])},run:function(a){var b="";a._filter&&(b=a._filter.value);var c=[a,b],d=this.cast("VALIDATE",c);return"undefined"==typeof d&&(d=!1),d},API_ONREADY:function(){var b=this;a("form").each(function(){this.onsubmit&&(this["xe:onsubmit"]=this.onsubmit,this.onsubmit=null)}).submit(function(c){var d=this["xe:onsubmit"],e=a.isFunction(d),f=e?d.apply(this):b.run(this);return f||c.stopImmediatePropagation(),f})},API_VALIDATE:function(b,c){function K(a){return a.replace(/([\.\+\-\[\]\{\}\(\)\\])/g,"\\$1")}var m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,h=!0,i=c[0],j=i.elements;if(j.ruleset?m=i.elements.ruleset.value:j._filter&&(m=i.elements._filter.value),!m)return!0;for(a.isFunction(e[m])&&(p=e[m]),m=a.extend({},d[m.toLowerCase()]||{},g),q=[],F=0,G=i.elements.length;F<G;F++)t=j[F],s=t.name,s&&j[s]&&(j[s].length&&j[s][0]!==t||q.push(s));q=q.join("\n"),n={};for(s in m)if(m.hasOwnProperty(s)&&(r=[],"^"==s.substr(0,1))){for(r=q.match(new RegExp("^"+K(s.substr(1))+".*$","gm")),r||(r=[]),F=0,G=r.length;F<G;F++)n[r[F]]=m[s];m[s]=null,delete m[s]}m=a.extend(m,n);for(s in m)if(m.hasOwnProperty(s)&&(f=m[s],t=j[s],t||(t=j[s+"[]"]),u=t?a.trim(k(a(t))):"",v=(f.modifier||"")+",",t&&!t.disabled)){if(f.if)for(a.isArray(f.if)||(f.if=[f.if]),F=0;F<f.if.length;F++)I=f.if[F],J=new Function("el","return !!("+I.test.replace(/\$(\w+)/g,"(jQuery('[name=$1]').is(':radio, :checkbox') ? jQuery('[name=$1]:checked').val() : jQuery('[name=$1]').val())")+")"),J(j)?f[I.attr]=I.value:delete f[I.attr];if(u){if(z=parseInt(f.minlength)||0,y=parseInt(f.maxlength)||0,B=/b$/.test(f.minlength||""),A=/b$/.test(f.maxlength||""),w=u.length,(B||A)&&(x=l(u)),z&&z>(B?x:w)||y&&y<(A?x:w))return this.cast("ALERT",[i,s,"outofrange",z,y])&&!1;if(f.equalto&&(D=j[f.equalto],E=D?a.trim(k(a(D))):"",D&&E!==u))return this.cast("ALERT",[i,s,"equalto"])&&!1;for(C=(f.rule||"").split(","),F=0,G=C.length;F<G;F++)if((H=C[F])&&(h=this.cast("APPLY_RULE",[H,u]),v.indexOf("not,")>-1&&(h=!h),!h))return this.cast("ALERT",[i,s,"invalid_"+H])&&!1}else if(f.default&&(u=f.default),
f.required)return this.cast("ALERT",[i,s,"isnull"])&&!1}return!a.isFunction(p)||p(i)},API_ADD_RULE:function(a,b){var d=b[0].toLowerCase();c[d]=b[1]},API_DEL_RULE:function(a,b){var d=b[0].toLowerCase();delete c[d]},API_GET_RULE:function(a,b){var d=b[0].toLowerCase();return c[d]?c[d]:null},API_ADD_FILTER:function(a,b){var c=b[0].toLowerCase(),e=b[1];d[c]=e},API_DEL_FILTER:function(a,b){var c=b[0].toLowerCase();delete d[c]},API_GET_FILTER:function(a,b){var c=b[0].toLowerCase();return d[c]?d[c]:null},API_ADD_EXTRA_FIELD:function(a,b){var c=b[0].toLowerCase(),d=b[1];g[c]=d},API_GET_EXTRA_FIELD:function(a,b){var c=b[0].toLowerCase();return g[c]},API_DEL_EXTRA_FIELD:function(a,b){var c=b[0].toLowerCase();delete g[c]},API_APPLY_RULE:function(b,d){var e=d[0],f=d[1];return"undefined"==typeof c[e]||(a.isFunction(c[e])?c[e](f):c[e]instanceof RegExp?c[e].test(f):!a.isArray(c[e])||a.inArray(f,c[e])>-1)},API_ALERT:function(b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=this.cast("GET_MESSAGE",[e]),j=this.cast("GET_MESSAGE",[f]);j!=f&&(j=j.indexOf("%s")<0?i+j:j.replace("%s",i)),(g||h)&&(j+="("+(g||"")+"~"+(h||"")+")"),this.cast("SHOW_ALERT",[j]),a(d.elements[e]).focus()},API_SHOW_ALERT:function(a,b){alert(b[0])},API_ADD_MESSAGE:function(a,c){var d=c[0],e=c[1];b[d]=e},API_GET_MESSAGE:function(a,c){var d=c[0];return b[d]||d},API_ADD_CALLBACK:function(a,b){var c=b[0],d=b[1];e[c]=d},API_REMOVE_CALLBACK:function(a,b){var c=b[0];delete e[c]}}),i=new h;xe.registerApp(i);var j=xe.createPlugin("editor_stub",{API_BEFORE_VALIDATE:function(a,b){var c=b[0],d=c.getAttribute("editor_sequence");if(d&&"object"==typeof d&&(d=d.value),d)try{editorRelKeys[d].content.value=editorRelKeys[d].func(d)||""}catch(a){}}});i.registerPlugin(new j)}(jQuery);